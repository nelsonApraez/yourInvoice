///*** ProjectCustom Colombia
///*** Proyecto: ProjectCustom
///*** Año: 2024
///*********************************************

using yourInvoice.Common.Business.CatalogModule;
using yourInvoice.Common.Integration.Storage;
using yourInvoice.Offer.Application.Admin.UploadAttachment;
using yourInvoice.Offer.Domain.Documents;
using yourInvoice.Offer.Domain.Offers;
using yourInvoice.Offer.Domain.Primitives;
using static yourInvoice.Common.ErrorHandling.MessageHandler;

namespace Application.Customer.UnitTest.Admin.UploadAttachment
{
    public class UploadAttachmentCommandHandlerTest
    {
        private readonly Mock<IOfferRepository> _mockRepository;
        private readonly Mock<IDocumentRepository> _mockDocumentRepository;
        private readonly Mock<IUnitOfWork> _mockUnitOfWork;
        private readonly Mock<IStorage> _mockStorage;
        private readonly UploadAttachmentCommandHandler _handler;

        public UploadAttachmentCommandHandlerTest()
        {
            _mockRepository = new Mock<IOfferRepository>();
            _mockUnitOfWork = new Mock<IUnitOfWork>();
            _mockDocumentRepository = new Mock<IDocumentRepository>();
            _mockStorage = new Mock<IStorage>();

            _handler = new UploadAttachmentCommandHandler(_mockDocumentRepository.Object, _mockStorage.Object, _mockRepository.Object,
                  _mockUnitOfWork.Object);
        }

        [Fact]
        public async Task HandleUploadAttachment_Uploaded_Sucess()
        {
            //Arrange
            // Se configura los parametros de entrada de nuestra prueba unitaria.
            int offerid = 1;
            Guid userId = new Guid("430D9477-855A-44AE-93E1-1A5ACAA1A5CA");
            yourInvoice.Offer.Domain.Offer offer = new(It.IsAny<Guid>(), userId, userId, DateTime.UtcNow, DateTime.UtcNow, "", CatalogCode_OfferStatus.InProgress);

            _mockRepository.Setup(x => x.GetByConsecutiveAsync(offerid)).ReturnsAsync(offer);
            _mockStorage.Setup(x => x.UploadAsync(It.IsAny<byte[]>(), It.IsAny<string>())).ReturnsAsync("ruta");
            _mockDocumentRepository.Setup(x => x.GetDocumentsByOfferAndTypeAsync(It.IsAny<Guid>(), CatalogCode_DocumentType.DocumentsUploadByUserOnResume)).ReturnsAsync(new List<Document>());

            UploadAttachmentCommand command = new(offerid, "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", "image.pdf");

            //Act
            // Se ejecuta el metodo a probar de nuestra prueba unitaria
            var result = await _handler.Handle(command, default);

            //Assert
            // Se verifica los datos de retorno de nuestro metodo probado en la prueba unitaria
            result.IsError.Should().BeFalse();
            Assert.True(result.Value);
        }

        [Fact]
        public async Task HandleUploadAttachment_FileNoAttachment_UnSuccess()
        {
            //Arrange
            // Se configura los parametros de entrada de nuestra prueba unitaria.
            int offerid = 1;
            Guid userId = new Guid("430D9477-855A-44AE-93E1-1A5ACAA1A5CA");
            yourInvoice.Offer.Domain.Offer offer = new(It.IsAny<Guid>(), userId, userId, DateTime.UtcNow, DateTime.UtcNow, "", CatalogCode_OfferStatus.InProgress);
            _mockRepository.Setup(x => x.GetByConsecutiveAsync(offerid)).ReturnsAsync(offer);
            _mockDocumentRepository.Setup(x => x.GetDocumentsByOfferAndTypeAsync(It.IsAny<Guid>(), CatalogCode_DocumentType.DocumentsUploadByUserOnResume)).ReturnsAsync(new List<Document>() { new Document(It.IsAny<Guid>(),
                It.IsAny<Guid>(), null,"", CatalogCode_DocumentType.DocumentsUploadByUserOnResume,true,"") });

            UploadAttachmentCommand command = new(offerid, "", "image.xxx");

            //Act
            // Se ejecuta el metodo a probar de nuestra prueba unitaria
            var result = await _handler.Handle(command, default);

            //Assert
            // Se verifica los datos de retorno de nuestro metodo probado en la prueba unitaria
            result.IsError.Should().BeTrue();
            result.FirstError.Type.Should().Be(ErrorType.Validation);
            Assert.Equal(GetErrorDescription(MessageCodes.FileRejectByNoZip), result.FirstError.Description);
        }

        [Fact]
        public async Task HandleUploadAttachment_NoOffer_UnSuccess()
        {
            //Arrange
            // Se configura los parametros de entrada de nuestra prueba unitaria.

            UploadAttachmentCommand command = new(1, "", "image.pdf");

            //Act
            // Se ejecuta el metodo a probar de nuestra prueba unitaria
            var result = await _handler.Handle(command, default);

            //Assert
            // Se verifica los datos de retorno de nuestro metodo probado en la prueba unitaria
            result.IsError.Should().BeTrue();
            result.FirstError.Type.Should().Be(ErrorType.Validation);
            Assert.Equal(GetErrorDescription(MessageCodes.OfferNotExist), result.FirstError.Description);
        }
    }
}